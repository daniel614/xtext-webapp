grammar org.xtext.example.wappm.Wappm with org.eclipse.xtext.common.Terminals

generate wappm "http://www.xtext.org/example/wappm/Wappm"

WebModel :
  'webapp' name=ID '{'
    hypertext=HypertextLayer
    content=ContentLayer
  '}' ;

HypertextLayer :
  'hypertext {'
     pages+=IndexPage+
  '}' ;

Page : 
	StaticPage | DynamicPage
;

StaticPage :
	'static' name=ID
	'{'
		('links' '{' links+=Link ( "," links+=Link)* '}' )?
	'}'
;

DynamicPage :
	IndexPage | DetailPage
;

DetailPage :
	'detail' name=ID 'shows'displayedClass=[Class]
	'{'
		('links' '{' links+=Link ( "," links+=Link)* '}' )?
	'}'
;

IndexPage :
	'index' name=ID 'shows'displayedClass=[Class]
	'{'
		('links' '{' links+=Link ( "," links+=Link)* '}' )?
	'}'
;


Link :
	'link' '{' 
		'page' page=[Page|ID]	
	'}'
;

ContentLayer :
  'content {'
    classes+=Class+
  '}' ;

Class :
  'class' name=ID '{' 
  	attributes+=Attribute+
  	'uniqueIdentifier' uniqueIdentifier=[Attribute|ID]
  '}' ;
  
Attribute : 
	'attr' name=ID ':' type=AppTypes ';'  ;
  
enum AppTypes :
  String | Integer | Float | Email | Boolean
;

